<div class="container">
  <!-- Barre de progression -->
  <div class="progress-bar">
    <div class="step completed">
      <div class="step-number">1</div>
      <div class="step-label">Informations Personnelles</div>
    </div>
    <div class="step completed">
      <div class="step-number">2</div>
      <div class="step-label">Choix de Formation</div>
    </div>
    <div class="step completed">
      <div class="step-number">3</div>
      <div class="step-label">Validation Administrative</div>
    </div>
    <div class="step completed">
      <div class="step-number">4</div>
      <div class="step-label">Paiement</div>
    </div>
    <div class="step active">
      <div class="step-number">5</div>
      <div class="step-label">Confirmation</div>
    </div>
  </div>

  <div class="form-container">
    <div class="form-section active">
      <!-- Message de succ√®s -->
      <div class="success-header">
        <div class="success-icon">üéì</div>
        <h1>F√©licitations !</h1>
        <p class="success-subtitle">Votre inscription a √©t√© confirm√©e avec succ√®s</p>
      </div>

      <div class="alert alert-success">
        <p><strong>Bienvenue √† l'Universit√© Internationale !</strong></p>
        <p>
          Votre inscription a √©t√© trait√©e avec succ√®s. Vous recevrez un email de confirmation avec
          toutes les informations n√©cessaires pour d√©buter votre formation.
        </p>
      </div>

      <!-- Carte d'√©tudiant virtuelle -->
      <div class="student-card" *ngIf="etudiant">
        <div class="card-header">
          <div class="university-info">
            <h3>Universit√© Internationale</h3>
            <p>Carte d'√âtudiant</p>
          </div>
        </div>

        <div class="card-body">
          <div class="student-identity">
            <!-- Section photo -->
            <div class="student-photo-section">
              <div class="student-photo">
                <img
                  *ngIf="photoUrl"
                  [src]="photoUrl"
                  alt="Photo √©tudiant"
                  class="photo-image"
                  (error)="onImageError()"
                />
                <div *ngIf="!photoUrl" class="photo-placeholder">
                  <span class="photo-icon">üë§</span>
                </div>
              </div>
              <div class="photo-frame"></div>
            </div>
          </div>

          <div class="student-info">
            <div class="info-row">
              <span class="info-label">Nom complet:</span>
              <span class="info-value"
                >{{ etudiant.nom | uppercase }} {{ etudiant.prenom | uppercase }}</span
              >
            </div>
            <div class="info-row">
              <span class="info-label">Num√©ro d'√©tudiant:</span>
              <span class="info-value highlight">{{
                etudiant.numeroEtudiant || 'En cours de g√©n√©ration'
              }}</span>
            </div>
            <div class="info-row">
              <span class="info-label">ID Provisoire:</span>
              <span class="info-value">{{ etudiant.idProvisoire }}</span>
            </div>
            <div class="info-row">
              <span class="info-label">D√©partement:</span>
              <div class="info-value">{{ getDepartementLabel(etudiant.departement) }}</div>
            </div>
            <div class="info-row">
              <span class="info-label">Formation:</span>
              <span class="info-value">{{ getFormationLabel(etudiant.formation) }}</span>
            </div>
            <div class="info-row">
              <span class="info-label">Mode:</span>
              <span class="info-value">{{ getModeFormationLabel(etudiant.modeFormation) }}</span>
            </div>
            <div class="info-row">
              <span class="info-label">Statut:</span>
              <span class="info-value status-confirmed">{{ getStatutLabel(etudiant.statut) }}</span>
            </div>
          </div>
        </div>

        <div class="card-footer">
          <div class="validity">Valide jusqu'au: {{ getDateFinAnnee() }}</div>
          <div class="signature">
            <!-- <div class="signature-line"></div>
            <div class="signature-text">Signature</div> -->
            <button type="button" class="btn btn-primary" (click)="telechargerAttestation()" clor="007bff">
              T√©l√©charger 
            </button>
          </div>
        </div>
      </div>
      <!-- FIN de la carte d'√©tudiant virtuelle -->

      <!-- D√©tails complets de l'inscription -->
      <div class="confirmation-details" *ngIf="etudiant">
        <h3>D√©tails de votre inscription</h3>

        <div class="details-grid">
          <div class="detail-section">
            <h4>Informations Personnelles</h4>
            <div class="detail-row">
              <div class="detail-label">Nom complet:</div>
              <div class="detail-value">
                {{ etudiant.nom | uppercase }} {{ etudiant.prenom | uppercase }}
              </div>
            </div>
            <div class="detail-row">
              <div class="detail-label">Email:</div>
              <div class="detail-value">{{ etudiant.email }}</div>
            </div>
            <div class="detail-row">
              <div class="detail-label">T√©l√©phone:</div>
              <div class="detail-value">{{ etudiant.telephone }}</div>
            </div>
            <div class="detail-row">
              <div class="detail-label">Date de naissance:</div>
              <div class="detail-value">{{ formaterDate(etudiant.dateNaissance) }}</div>
            </div>
          </div>

          <div class="detail-section">
            <h4>Informations de Formation</h4>
            <div class="detail-row">
              <div class="detail-label">D√©partement:</div>
              <div class="detail-value">{{ getDepartementLabel(etudiant.departement) }}</div>
            </div>
            <div class="detail-row">
              <div class="detail-label">Formation:</div>
              <div class="detail-value">{{ getFormationLabel(etudiant.formation) }}</div>
            </div>
            <div class="detail-row">
              <div class="detail-label">Mode:</div>
              <div class="detail-value">{{ getModeFormationLabel(etudiant.modeFormation) }}</div>
            </div>
            <div class="detail-row">
              <div class="detail-label">Niveau d'√©tudes:</div>
              <div class="detail-value">{{ etudiant.niveauEtudes }}</div>
            </div>
          </div>

          <div class="detail-section">
            <h4>Informations Administratives</h4>
            <div class="detail-row">
              <div class="detail-label">Num√©ro d'√©tudiant:</div>
              <div class="detail-value highlight">
                {{ etudiant.numeroEtudiant || 'En cours de g√©n√©ration' }}
              </div>
            </div>
            <div class="detail-row">
              <div class="detail-label">ID Provisoire:</div>
              <div class="detail-value">{{ etudiant.idProvisoire }}</div>
            </div>
            <div class="detail-row">
              <div class="detail-label">Date d'inscription:</div>
              <div class="detail-value">{{ formaterDate(etudiant.dateInscription) }}</div>
            </div>
            <div class="detail-row">
              <div class="detail-label">Frais d'inscription:</div>
              <div class="detail-value">{{ etudiant.fraisInscription || 50000 }} FCFA (Pay√©)</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Actions -->
      <div class="confirmation-actions">
        <button type="button" class="btn btn-primary" (click)="telechargerAttestation()">
          <span class="btn-icon">üìÑ</span>
          T√©l√©charger l'attestation
        </button>

        <button type="button" class="btn btn-secondary" (click)="nouvelleInscription()">
          <span class="btn-icon">‚ûï</span>
          Nouvelle inscription
        </button>

        <button type="button" class="btn btn-outline" routerLink="/">
          <span class="btn-icon">üè†</span>
          Retour √† l'accueil
        </button>
      </div>

      <!-- Chargement -->
      <div *ngIf="!etudiant" class="loading-container">
        <div class="loading-spinner"></div>
        <p>Chargement de votre confirmation...</p>
      </div>
    </div>
  </div>
</div>
