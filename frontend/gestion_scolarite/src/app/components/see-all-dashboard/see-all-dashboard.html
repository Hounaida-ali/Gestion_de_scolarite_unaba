<section class="see-all-dashboard-section">
  <div class="dashboard-container">
    <a type="button" (click)="closeMainModal()" class="back-button">
      <i class="fas fa-close"></i> Fermer
    </a>

    <div class="section-header">
      <h2 class="section-title"><i class="fas fa-cogs"></i> Tous les Services</h2>
    </div>

    <!-- État de chargement -->
    <div *ngIf="loading" class="loading-container">
      <div class="spinner"></div>
      <p>Chargement des éléments du tableau de bord...</p>
    </div>

    <!-- Liste des éléments SeeAllDashboard -->
    <div *ngIf="!loading && seeAllDashboards.length > 0" class="dashboard-list">
      @for (item of seeAllDashboards; track $index) {
      <div class="dashboard-card">
        <div class="dashboard-header">
          <i class="{{ item.icon }}"></i>
          <h3>{{ item.titre }}</h3>
        </div>

        <div class="dashboard-contenu">
          <p>{{ item.contenu }}</p>
        </div>

        <div class="dashboard-footer">
          <a href="#" class="dashboard-link" (click)="openModal($index); $event.preventDefault()">
            {{ item.actionText }} <i class="fas fa-arrow-right"></i>
          </a>
        </div>
      </div>
    }
    </div>

    Message si aucun élément
    <div *ngIf="!loading && seeAllDashboards.length === 0" class="no-dashboard">
      <p>Aucun élément du tableau de bord disponible pour le moment.</p>
    </div>
  </div>
</section>

<!-- ✅ Modal unique et dynamique -->
<div class="modal-backdrop" *ngIf="selectedItem">
  <div class="modal">
    <div class="modal-header">
      <h2>{{ selectedItem.titre }}</h2>
      <button class="close-btn" (click)="closeModal()">×</button>
    </div>

    <div class="modal-body">
      <h3>{{ selectedItem.sousTitre }}</h3>
      <p>{{ selectedItem.modalDescription }}</p>

      <ul *ngIf="selectedItem.details">
        <li *ngFor="let line of selectedItem.details">{{ line }}</li>
      </ul>

      <p *ngIf="selectedItem.status"><strong>Statut :</strong> {{ selectedItem.status }}</p>
    </div>

    <div class="modal-footer">
      <button class="btn-close" (click)="closeModal()">Fermer</button>
    </div>
  </div>
</div>
